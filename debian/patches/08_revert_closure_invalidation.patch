Description: Revert http://git.gnome.org/browse/glib/commit/?id=a36028f386708bb until the crash introduced by it is solved properly.
Bug: https://bugzilla.gnome.org/show_bug.cgi?id=690118

diff --git a/gobject/gsignal.c b/gobject/gsignal.c
index de95fcb..70167af 100644
--- a/gobject/gsignal.c
+++ b/gobject/gsignal.c
@@ -3737,7 +3737,6 @@ invalid_closure_notify (gpointer  instance,
 
   handler = handler_lookup (instance, 0, closure, &signal_id);
   /* GClosure removes our notifier when we're done */
-  handler->has_invalid_closure_notify = 0;
   handler_unref_R (signal_id, instance, handler);
 
   SIGNAL_UNLOCK ();
--- a/gobject/tests/signals.c
+++ b/gobject/tests/signals.c
@@ -849,7 +849,7 @@ main (int argc,

   g_test_add_func ("/gobject/signals/all-types", test_all_types);
   g_test_add_func ("/gobject/signals/variant", test_variant_signal);
-  g_test_add_func ("/gobject/signals/destroy-target-object", test_destroy_target_object);
+  //g_test_add_func ("/gobject/signals/destroy-target-object", test_destroy_target_object);
   g_test_add_func ("/gobject/signals/generic-marshaller-1", test_generic_marshaller_signal_1);
   g_test_add_func ("/gobject/signals/generic-marshaller-2", test_generic_marshaller_signal_2);
   g_test_add_func ("/gobject/signals/generic-marshaller-enum-return-signed", test_generic_marshaller_signal_enum_return_signed);

